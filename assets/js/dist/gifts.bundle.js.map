{
  "version": 3,
  "sources": ["../src/gifts/index.js", "../src/core/species/api.js", "../src/core/career/api.js", "../src/core/traits/service.js", "../src/core/formBuilder/render-details.js", "../src/core/formBuilder/render-profile.js", "../src/core/formBuilder/render-skills.js", "../src/core/formBuilder/render-summary.js", "../src/core/formBuilder/form-builder.js", "../src/core/formBuilder/index.js", "../src/gifts/state.js", "../src/gifts/api.js", "../src/gifts/local-knowledge.js", "../src/gifts/language.js", "../src/gifts/free-choices.js"],
  "sourcesContent": ["// assets/js/src/gifts/index.js\r\n\r\nimport State          from './state.js';\r\nimport API            from './api.js';\r\nimport localKnowledge from './local-knowledge.js';\r\nimport language       from './language.js';\r\nimport freeChoices    from './free-choices.js';\r\n\r\nconsole.log('\uD83D\uDD25 [Gifts] Module loaded');\r\n\r\nexport default {\r\n  init() {\r\n    console.group('[Gifts] \uD83D\uDD01 init() called');\r\n\r\n    console.log('[Gifts] \u25B6 Initializing Local Knowledge');\r\n    localKnowledge.init();\r\n    console.log('[Gifts] \u2705 Local Knowledge initialized');\r\n\r\n    console.log('[Gifts] \u25B6 Initializing Language');\r\n    language.init();\r\n    console.log('[Gifts] \u2705 Language initialized');\r\n\r\n    console.log('[Gifts] \u25B6 Initializing Free Choices');\r\n    freeChoices.init();\r\n    console.log('[Gifts] \u2705 Free Choices initialized');\r\n\r\n    console.groupEnd();\r\n  }\r\n};\r\n", "// assets/js/src/core/species/api.js\r\nconst $ = window.jQuery;\r\n\r\nconst SpeciesAPI = {\r\n  /**\r\n   * Populate the #cg-species dropdown.\r\n   */\r\n  loadSpeciesList(cb) {\r\n    console.group('[SpeciesAPI] \uD83D\uDD04 loadSpeciesList() called');\r\n\r\n    const $sel = $('#cg-species');\r\n    if (!$sel.length) {\r\n      console.warn('[SpeciesAPI] \u274C Selector #cg-species not found in DOM');\r\n      console.groupEnd();\r\n      return;\r\n    }\r\n\r\n    $sel.html('<option value=\"\">\u2014 Select Species \u2014</option>');\r\n\r\n    $.post(CG_Ajax.ajax_url, {\r\n      action:   'cg_get_species_list',\r\n      security: CG_Ajax.nonce\r\n    })\r\n    .done(res => {\r\n      console.log('[SpeciesAPI] \u2705 AJAX success:', res);\r\n\r\n      if (!res.success) {\r\n        console.warn('[SpeciesAPI] \u274C Species list response unsuccessful');\r\n        return;\r\n      }\r\n\r\n      if (!Array.isArray(res.data)) {\r\n        console.warn('[SpeciesAPI] \u26A0\uFE0F Unexpected data format:', res.data);\r\n        return;\r\n      }\r\n\r\n      res.data.forEach(({ id, name }) => {\r\n        $sel.append(`<option value=\"${id}\">${name}</option>`);\r\n        console.log(`[SpeciesAPI] \u2795 Added species option: ${name} (ID: ${id})`);\r\n      });\r\n\r\n      const currentVal = $sel.data('selected') || '';\r\n      if (currentVal) {\r\n        $sel.val(currentVal);\r\n        console.log(`[SpeciesAPI] \uD83D\uDD01 Re-applying selected species \u2192 ${currentVal}`);\r\n      } else {\r\n        console.log('[SpeciesAPI] \u2139\uFE0F No selected species to re-apply');\r\n      }\r\n    })\r\n    .fail((xhr, status, error) => {\r\n      console.error('[SpeciesAPI] \u274C AJAX failed for species list:', {\r\n        status,\r\n        error,\r\n        response: xhr.responseText\r\n      });\r\n    })\r\n    .always(() => {\r\n      if (typeof cb === 'function') {\r\n        console.log('[SpeciesAPI] \uD83D\uDCDE Executing loadSpeciesList callback');\r\n        cb();\r\n      } else {\r\n        console.log('[SpeciesAPI] \u26A0\uFE0F No callback provided to loadSpeciesList');\r\n      }\r\n      console.groupEnd();\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Fetch the full profile for one species (gifts, skills, etc).\r\n   */\r\n  loadSpeciesProfile(speciesId, cb) {\r\n    console.group(`[SpeciesAPI] \uD83D\uDD04 loadSpeciesProfile(${speciesId}) called`);\r\n\r\n    if (!speciesId) {\r\n      console.warn('[SpeciesAPI] \u2757 No species ID provided');\r\n      console.groupEnd();\r\n      return;\r\n    }\r\n\r\n    $.post(CG_Ajax.ajax_url, {\r\n      action:   'cg_get_species_profile',\r\n      id:       speciesId,\r\n      security: CG_Ajax.nonce\r\n    })\r\n    .done(res => {\r\n      console.log('[SpeciesAPI] \u2705 AJAX success for profile:', res);\r\n\r\n      if (res.success && typeof cb === 'function') {\r\n        console.log('[SpeciesAPI] \uD83D\uDCDE Executing profile callback with data:', res.data);\r\n        cb(res.data);\r\n      } else if (!res.success) {\r\n        console.warn('[SpeciesAPI] \u274C Profile load was not successful');\r\n      } else {\r\n        console.warn('[SpeciesAPI] \u26A0\uFE0F No valid callback function provided');\r\n      }\r\n    })\r\n    .fail((xhr, status, error) => {\r\n      console.error('[SpeciesAPI] \u274C AJAX failed for species profile:', {\r\n        status,\r\n        error,\r\n        response: xhr.responseText\r\n      });\r\n    })\r\n    .always(() => {\r\n      console.groupEnd();\r\n    });\r\n  }\r\n};\r\n\r\nexport default SpeciesAPI;\r\n", "const CareerAPI = {\r\n  /**\r\n   * Load the career dropdown list.\r\n   */\r\n  loadList(callback) {\r\n    console.group('[CareerAPI] \uD83D\uDD04 loadList() called');\r\n\r\n    const $sel = $('#cg-career');\r\n    if (!$sel.length) {\r\n      console.warn('[CareerAPI] \u274C Selector #cg-career not found in DOM');\r\n      console.groupEnd();\r\n      return;\r\n    }\r\n\r\n    $sel.html('<option value=\"\">\u2014 Select Career \u2014</option>');\r\n\r\n    $.post(CG_Ajax.ajax_url, {\r\n      action:   'cg_get_career_list',\r\n      security: CG_Ajax.nonce\r\n    })\r\n    .done(res => {\r\n      console.log('[CareerAPI] \u2705 AJAX success for career list:', res);\r\n\r\n      if (!res.success) {\r\n        console.warn('[CareerAPI] \u274C Career list response unsuccessful');\r\n        return;\r\n      }\r\n\r\n      if (!Array.isArray(res.data)) {\r\n        console.warn('[CareerAPI] \u26A0\uFE0F Unexpected response format for career list:', res.data);\r\n        return;\r\n      }\r\n\r\n      res.data.forEach(({ id, name }) => {\r\n        $sel.append(`<option value=\"${id}\">${name}</option>`);\r\n        console.log(`[CareerAPI] \u2795 Added option: ${name} (ID: ${id})`);\r\n      });\r\n\r\n      const currentVal = $sel.data('selected') || '';\r\n      if (currentVal) {\r\n        $sel.val(currentVal);\r\n        console.log(`[CareerAPI] \uD83D\uDD01 Re-applying selected career \u2192 ${currentVal}`);\r\n      } else {\r\n        console.log('[CareerAPI] \u2139\uFE0F No selected career to re-apply');\r\n      }\r\n    })\r\n    .fail((xhr, status, error) => {\r\n      console.error('[CareerAPI] \u274C AJAX failed for career list:', {\r\n        status,\r\n        error,\r\n        response: xhr.responseText\r\n      });\r\n    })\r\n    .always(() => {\r\n      if (typeof callback === 'function') {\r\n        console.log('[CareerAPI] \uD83D\uDCDE Executing loadList callback');\r\n        callback();\r\n      } else {\r\n        console.log('[CareerAPI] \u26A0\uFE0F No callback provided to loadList');\r\n      }\r\n      console.groupEnd();\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Load the gift profile for a selected career.\r\n   */\r\n  loadGifts(careerId, callback) {\r\n    console.group(`[CareerAPI] \uD83D\uDD0D loadGifts(${careerId}) called`);\r\n\r\n    if (!careerId) {\r\n      console.warn('[CareerAPI] \u2757 No career ID provided');\r\n      console.groupEnd();\r\n      return;\r\n    }\r\n\r\n    $.post(CG_Ajax.ajax_url, {\r\n      action:   'cg_get_career_gifts',\r\n      id:       careerId,\r\n      security: CG_Ajax.nonce\r\n    })\r\n    .done(res => {\r\n      console.log('[CareerAPI] \u2705 AJAX success for career gifts:', res);\r\n\r\n      if (res.success && typeof callback === 'function') {\r\n        console.log('[CareerAPI] \uD83D\uDCDE Executing loadGifts callback with data:', res.data);\r\n        callback(res.data);\r\n      } else if (!res.success) {\r\n        console.warn('[CareerAPI] \u274C Response unsuccessful for career gifts');\r\n      } else {\r\n        console.warn('[CareerAPI] \u26A0\uFE0F No valid callback provided for career gifts');\r\n      }\r\n    })\r\n    .fail((xhr, status, error) => {\r\n      console.error(`[CareerAPI] \u274C AJAX failed for career gifts ID ${careerId}:`, {\r\n        status,\r\n        error,\r\n        response: xhr.responseText\r\n      });\r\n    })\r\n    .always(() => {\r\n      console.groupEnd();\r\n    });\r\n  }\r\n};\r\n\r\nexport default CareerAPI;\r\n", "console.log(\"\uD83D\uDD25 TraitsService loaded and exposing globally\");\r\n\r\nimport GiftsState     from '../../gifts/state.js';\r\nimport SpeciesService from '../species/api.js';\r\nimport CareerService  from '../career/api.js';\r\n\r\nconst DIE_ORDER = ['d4', 'd6', 'd8', 'd10', 'd12'];\r\n\r\nconst BOOSTS = {\r\n  78:  'will',\r\n  89:  'speed',\r\n  85:  'body',\r\n  100: 'mind',\r\n  224: 'trait_species',\r\n  223: 'trait_career'\r\n};\r\n\r\nconst TRAITS     = ['will', 'speed', 'body', 'mind', 'trait_species', 'trait_career'];\r\nconst DICE_TYPES = ['d8', 'd6', 'd4'];\r\nconst MAX_COUNT  = { d8: 2, d6: 3, d4: 1 };\r\n\r\nconst TraitsService = {\r\n  TRAITS,\r\n  DICE_TYPES,\r\n\r\n  calculateBoostMap() {\r\n    console.group('[TraitsService] \uD83E\uDDEE calculateBoostMap()');\r\n    const map = {};\r\n\r\n    function addGift(giftId) {\r\n      console.log(`[TraitsService] \u2795 addGift() called with ID: ${giftId}`);\r\n      if (!giftId) return;\r\n      const gift = GiftsState.getGiftById(giftId);\r\n      if (!gift) {\r\n        console.warn(`[TraitsService] \u26A0\uFE0F Gift not found: ${giftId}`);\r\n        return;\r\n      }\r\n\r\n      console.log(`[TraitsService] \uD83C\uDF81 Gift resolved: ${gift.name} (ID ${gift.id})`);\r\n      const traitKey = BOOSTS[gift.id];\r\n      if (!traitKey) {\r\n        console.log(`[TraitsService] \uD83D\uDED1 No trait boost associated with gift ID ${gift.id}`);\r\n        return;\r\n      }\r\n\r\n      const count = parseInt(gift.ct_gifts_manifold, 10) || 1;\r\n      map[traitKey] = (map[traitKey] || 0) + count;\r\n\r\n      console.log(`[TraitsService] \u2705 Boost applied \u2192 ${traitKey} +${count}`);\r\n    }\r\n\r\n    console.log('[TraitsService] \u2795 GiftsState.selected:', GiftsState.selected);\r\n    GiftsState.selected.forEach(addGift);\r\n\r\n    const sp = SpeciesService.currentProfile;\r\n    console.log('[TraitsService] \uD83D\uDC3E SpeciesService.currentProfile:', sp);\r\n    if (sp) {\r\n      console.log('[TraitsService] \uD83D\uDC3E Processing species gifts');\r\n      ['gift_id_1', 'gift_id_2', 'gift_id_3'].forEach(key => addGift(sp[key]));\r\n    }\r\n\r\n    const cp = CareerService.currentProfile;\r\n    console.log('[TraitsService] \uD83E\uDDE2 CareerService.currentProfile:', cp);\r\n    if (cp) {\r\n      console.log('[TraitsService] \uD83E\uDDE2 Processing career gifts');\r\n      ['gift_id_1', 'gift_id_2', 'gift_id_3'].forEach(key => addGift(cp[key]));\r\n    }\r\n\r\n    console.log('[TraitsService] \u2705 Final boost map:', map);\r\n    console.groupEnd();\r\n    return map;\r\n  },\r\n\r\n  enforceCounts() {\r\n    console.group('[TraitsService] \u2705 enforceCounts()');\r\n    const $ = window.jQuery;\r\n    const freq = { d8: 0, d6: 0, d4: 0 };\r\n\r\n    $('.cg-trait-select').each(function () {\r\n      const v = $(this).val();\r\n      if (v && v in freq) freq[v]++;\r\n    });\r\n\r\n    console.log('[TraitsService] \uD83D\uDCCA Dice usage counts \u2192', freq);\r\n\r\n    $('.cg-trait-select').each(function () {\r\n      const $sel    = $(this);\r\n      const current = $sel.val() || '';\r\n      let options   = '<option value=\"\">\u2014 Select \u2014</option>';\r\n\r\n      DICE_TYPES.forEach(die => {\r\n        if (freq[die] < MAX_COUNT[die] || current === die) {\r\n          const sel = current === die ? ' selected' : '';\r\n          options += `<option value=\"${die}\"${sel}>${die}</option>`;\r\n        }\r\n      });\r\n\r\n      console.log(`[TraitsService] \uD83D\uDD01 Refreshing dropdown for #${$sel.attr('id')} \u2192 current: \"${current}\"`);\r\n      $sel.html(options);\r\n    });\r\n    console.groupEnd();\r\n  },\r\n\r\n  updateAdjustedDisplays() {\r\n    console.group('[TraitsService] \uD83D\uDE80 updateAdjustedDisplays()');\r\n    const $ = window.jQuery;\r\n    const boosts = this.calculateBoostMap();\r\n\r\n    TRAITS.forEach(traitKey => {\r\n      const $sel = $(`#cg-${traitKey}`);\r\n      if (!$sel.length) {\r\n        console.warn(`[TraitsService] \u26A0\uFE0F Selector not found: #cg-${traitKey}`);\r\n        return;\r\n      }\r\n\r\n      const raw = $sel.val();\r\n      console.log(`[TraitsService] \uD83D\uDD0D Trait: ${traitKey} | Raw: \"${raw}\"`);\r\n\r\n      let label;\r\n\r\n      if (!raw || !DIE_ORDER.includes(raw)) {\r\n        label = '\u2013';\r\n      } else {\r\n        const idx  = DIE_ORDER.indexOf(raw);\r\n        const step = boosts[traitKey] || 0;\r\n        const cap  = Math.min(idx + step, DIE_ORDER.length - 1);\r\n        label = DIE_ORDER[cap];\r\n      }\r\n\r\n      const count = boosts[traitKey] || 0;\r\n      let suffix = '';\r\n      if (count === 1) suffix = ' (increased by gift)';\r\n      else if (count > 1) suffix = ` (increased by gift ${count} times)`;\r\n\r\n      console.log(`[TraitsService] \uD83C\uDFB2 ${traitKey}: ${label}${suffix}`);\r\n\r\n      $(`#cg-${traitKey}-adjusted`).text(label + suffix);\r\n    });\r\n    console.groupEnd();\r\n  },\r\n\r\n  refreshAll() {\r\n    console.group('[TraitsService] \uD83D\uDD01 refreshAll()');\r\n    this.enforceCounts();\r\n    this.updateAdjustedDisplays();\r\n    console.groupEnd();\r\n  },\r\n\r\n  getBoostedDie(traitKey) {\r\n    console.group(`[TraitsService] \u2795 getBoostedDie(\"${traitKey}\")`);\r\n    const boosts = this.calculateBoostMap();\r\n    const cnt = boosts[traitKey] || 0;\r\n\r\n    const base = window.jQuery(`#cg-${traitKey}`).val();\r\n    console.log(`[TraitsService] \uD83D\uDD0E Base: \"${base}\", Boost: ${cnt}`);\r\n\r\n    if (!DIE_ORDER.includes(base)) {\r\n      console.log('[TraitsService] \u26D4 Invalid base die \u2014 returning \"\u2013\"');\r\n      console.groupEnd();\r\n      return '\u2013';\r\n    }\r\n\r\n    const idx = DIE_ORDER.indexOf(base);\r\n    const result = DIE_ORDER[Math.min(idx + cnt, DIE_ORDER.length - 1)];\r\n    console.log(`[TraitsService] \u2705 Result: ${result}`);\r\n    console.groupEnd();\r\n    return result;\r\n  }\r\n};\r\n\r\nwindow.TraitsService = TraitsService;\r\nexport default TraitsService;\r\n", "import TraitsService from '../traits/service.js';\r\n\r\nconst TRAITS = TraitsService.TRAITS;\r\nconst DICE   = TraitsService.DICE_TYPES;\r\n\r\nfunction escape(val) {\r\n  const s = val == null ? '' : String(val);\r\n  return s\r\n    .replace(/&/g, '&amp;')\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;')\r\n    .replace(/\"/g, '&quot;')\r\n    .replace(/'/g, '&#39;');\r\n}\r\n\r\nfunction capitalize(str = '') {\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\nexport default {\r\n  renderTabs() {\r\n    console.log('[RenderDetails] renderTabs() called');\r\n    return `\r\n      <ul class=\"cg-tabs\">\r\n        <li data-tab=\"tab-traits\" class=\"active\">Details & Traits</li>\r\n        <li data-tab=\"tab-profile\">Profile: Species, Career & Gifts</li>\r\n        <li data-tab=\"tab-skills\">Skills</li>\r\n        <li data-tab=\"tab-summary\">Summary</li>\r\n      </ul>\r\n    `;\r\n  },\r\n\r\n  renderContent(data = {}) {\r\n    console.group('[RenderDetails] renderContent()');\r\n    console.log('[RenderDetails] Input data:', data);\r\n\r\n    const boostMap = TraitsService.calculateBoostMap();\r\n    console.log('[RenderDetails] boostMap result:', boostMap);\r\n\r\n    const traitFields = TRAITS.map(trait => {\r\n      const rawVal = data[trait];\r\n      const val    = rawVal == null || rawVal === '' ? '' : String(rawVal);\r\n      const label  = trait === 'trait_species' ? 'Species'\r\n                   : trait === 'trait_career'  ? 'Career'\r\n                   : capitalize(trait);\r\n\r\n      console.log(`\u25B6\uFE0F [RenderDetails] Trait: ${trait}`);\r\n      console.log(`    \u21B3 Raw value: \"${rawVal}\"`);\r\n      console.log(`    \u21B3 Cleaned val: \"${val}\"`);\r\n      console.log(`    \u21B3 Label: \"${label}\"`);\r\n\r\n      let options = [`<option value=\"\">\u2014 Select \u2014</option>`];\r\n      DICE.forEach(die => {\r\n        const sel = die === val ? ' selected' : '';\r\n        options.push(`<option value=\"${die}\"${sel}>${die}</option>`);\r\n      });\r\n\r\n      const boostCount = boostMap[trait] || 0;\r\n      let adjusted = '\u2013';\r\n\r\n      if (DICE.includes(val)) {\r\n        const DIE_ORDER = ['d4', 'd6', 'd8', 'd10', 'd12'];\r\n        const baseIndex = DIE_ORDER.indexOf(val);\r\n        const boostedIndex = Math.min(baseIndex + boostCount, DIE_ORDER.length - 1);\r\n        adjusted = DIE_ORDER[boostedIndex];\r\n        console.log(`    \u21B3 BaseIndex: ${baseIndex}, BoostCount: ${boostCount}, Adjusted: ${adjusted}`);\r\n      }\r\n\r\n      let suffix = '';\r\n      if (boostCount === 1) suffix = ' (increased by gift)';\r\n      else if (boostCount > 1) suffix = ` (increased by gift ${boostCount} times)`;\r\n\r\n      const display = adjusted + suffix;\r\n      console.log(`    \u21B3 Final display: ${display}`);\r\n\r\n      return `\r\n        <div class=\"cg-trait\">\r\n          <label>${label} <small>(choose one)</small></label>\r\n          <select id=\"cg-${trait}\" class=\"cg-trait-select\">\r\n            ${options.join('\\n')}\r\n          </select>\r\n          <div\r\n            class=\"trait-adjusted\"\r\n            id=\"cg-${trait}-adjusted\"\r\n            style=\"color:#0073aa;font-weight:bold;\"\r\n          >${display}</div>\r\n        </div>\r\n      `;\r\n    }).join('');\r\n\r\n    console.groupEnd();\r\n\r\n    return `\r\n      <div id=\"tab-traits\" class=\"tab-panel active\">\r\n        <div class=\"cg-details-panel\">\r\n\r\n          <div class=\"cg-details-box\">\r\n            <h3>Details</h3>\r\n            <div class=\"cg-profile-grid\">\r\n              <div>\r\n                <label>Character Name</label>\r\n                <input type=\"text\" id=\"cg-name\" value=\"${escape(data.name)}\" required />\r\n              </div>\r\n              <div>\r\n                <label>Player Name</label>\r\n                <input type=\"text\" id=\"cg-player-name\" value=\"${escape(data.player_name)}\" />\r\n              </div>\r\n\r\n              <div>\r\n                <label>Gender</label>\r\n                <select id=\"cg-gender\">\r\n                  <option value=\"\">\u2014 Select \u2014</option>\r\n                  <option value=\"Male\"     ${data.gender === 'Male'     ? 'selected' : ''}>Male</option>\r\n                  <option value=\"Female\"   ${data.gender === 'Female'   ? 'selected' : ''}>Female</option>\r\n                  <option value=\"Nonbinary\"${data.gender === 'Nonbinary'? 'selected' : ''}>Nonbinary</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label>Age</label>\r\n                <input type=\"text\" id=\"cg-age\" value=\"${escape(data.age)}\" required />\r\n              </div>\r\n            </div>\r\n\r\n            <label>Motto</label>\r\n            <input type=\"text\" id=\"cg-motto\" value=\"${escape(data.motto)}\" />\r\n\r\n            <label>Goal 1</label>\r\n            <input type=\"text\" id=\"cg-goal1\" value=\"${escape(data.goal1)}\" />\r\n            <label>Goal 2</label>\r\n            <input type=\"text\" id=\"cg-goal2\" value=\"${escape(data.goal2)}\" />\r\n            <label>Goal 3</label>\r\n            <input type=\"text\" id=\"cg-goal3\" value=\"${escape(data.goal3)}\" />\r\n          </div>\r\n\r\n          <div class=\"cg-traits-box\">\r\n            <h3>Traits</h3>\r\n            <div class=\"cg-profile-grid\">\r\n              ${traitFields}\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"cg-text-box\">\r\n            <h3>Description & Backstory</h3>\r\n            <label>Description</label>\r\n            <textarea id=\"cg-description\">${escape(data.description)}</textarea>\r\n            <label>Backstory</label>\r\n            <textarea id=\"cg-backstory\">${escape(data.backstory)}</textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n};\r\n", "// assets/js/src/core/formBuilder/render-profile.js\r\n\r\n/**\r\n * \u201CProfile\u201D tab & panel\r\n * Species, Career & Gifts all together\r\n */\r\n\r\nexport default {\r\n  renderContent(data = {}) {\r\n    console.group('[RenderProfile] renderContent() called');\r\n    console.log('[RenderProfile] Incoming data:', data);\r\n    console.log('[RenderProfile] species_id:', data.species_id || '');\r\n    console.log('[RenderProfile] career_id:', data.career_id || '');\r\n\r\n    const html = `\r\n      <div id=\"tab-profile\" class=\"tab-panel\">\r\n\r\n        <div class=\"cg-profile-box\">\r\n          <h3>Species and Career</h3>\r\n          <label for=\"cg-species\">Species</label>\r\n          <select \r\n            id=\"cg-species\" \r\n            class=\"cg-profile-select\" \r\n            data-selected=\"${data.species_id || ''}\"\r\n          ></select>\r\n          <ul id=\"species-gifts\" class=\"cg-gift-item\"></ul>\r\n\r\n          <label for=\"cg-career\">Career</label>\r\n          <select \r\n            id=\"cg-career\" \r\n            class=\"cg-profile-select\" \r\n            data-selected=\"${data.career_id || ''}\"\r\n          ></select>\r\n          <div class=\"trait-adjusted\" id=\"cg-trait_career-adjusted\"></div>\r\n          <div id=\"cg-extra-careers\" class=\"cg-profile-grid\"></div>\r\n        </div>\r\n\r\n        <div class=\"cg-profile-box\">\r\n          <h3>Gifts</h3>\r\n          <div class=\"cg-gift-label\">Local Knowledge</div>\r\n          <div id=\"cg-local-knowledge\" class=\"cg-gift-item\"></div>\r\n\r\n          <div class=\"cg-gift-label\">Language</div>\r\n          <div id=\"cg-language\" class=\"cg-gift-item\"></div>\r\n\r\n          <div class=\"cg-gift-label\">Species Gifts</div>\r\n          <ul id=\"species-gift-block\" class=\"cg-gift-item\"></ul>\r\n\r\n          <div class=\"cg-gift-label\">Career Gifts</div>\r\n          <ul id=\"career-gifts\" class=\"cg-gift-item\"></ul>\r\n\r\n          <div class=\"cg-gift-label\">Chosen</div>\r\n          <div id=\"cg-free-choices\" class=\"cg-gift-item\"></div>\r\n        </div>\r\n\r\n      </div>\r\n    `;\r\n\r\n    console.groupEnd();\r\n    return html;\r\n  }\r\n};\r\n", "// assets/js/src/core/formBuilder/render-skills.js\r\n\r\nimport SpeciesService from '../species/api.js';\r\nimport CareerService  from '../career/api.js';\r\nimport FormBuilderAPI from '../formBuilder';\r\n\r\nfunction escape(str = '') {\r\n  return String(str)\r\n    .replace(/&/g, '&amp;')\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;')\r\n    .replace(/\"/g, '&quot;')\r\n    .replace(/'/g, '&#039;');\r\n}\r\n\r\nexport default {\r\n  renderContent(data = {}) {\r\n    const speciesName  = SpeciesService.currentProfile?.species_name || '';\r\n    const careerName   = CareerService.currentProfile?.career_name  || '';\r\n    const extraCareers = data.extraCareers || []; \r\n    const skillList    = data.skillsList || [];\r\n\r\n    // Build header columns\r\n    const careerCols = [`<th>Career: ${escape(careerName)}</th>`]\r\n      .concat(\r\n        extraCareers.map((c,i) =>\r\n          `<th>Career ${i+2}: ${escape(c.name)}</th>`\r\n        )\r\n      ).join('');\r\n\r\n    // Build each skill row\r\n    const rows = skillList.map(skill => `\r\n      <tr data-skill-id=\"${skill.id}\">\r\n        <td>${escape(skill.name)}</td>\r\n        <td class=\"skill-species-die\"></td>\r\n        ${extraCareers.map(() => '<td></td>').join('')}\r\n        <td>\r\n          <input\r\n            type=\"number\"\r\n            class=\"skill-marks\"\r\n            data-skill-id=\"${skill.id}\"\r\n            min=\"0\"\r\n            value=\"${escape(data.skillMarks?.[skill.id]||0)}\"\r\n          />\r\n        </td>\r\n        <td class=\"skill-total\">\u2014</td>\r\n      </tr>\r\n    `).join('');\r\n\r\n    return `\r\n      <div id=\"tab-skills\" class=\"tab-panel\">\r\n        <table id=\"skills-table\" class=\"cg-skills-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Skill Name</th>\r\n              <th>Species: ${escape(speciesName)}</th>\r\n              ${careerCols}\r\n              <th>Skill Marks</th>\r\n              <th>Dice Pool</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            ${rows}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    `;\r\n  }\r\n};\r\n", "// assets/js/src/core/formBuilder/render-summary.js\r\n\r\n/**\r\n * \u201CSummary\u201D tab & panel skeleton\r\n */\r\nexport default {\r\n  renderContent(data = {}) {\r\n    return `\r\n      <div id=\"tab-summary\" class=\"tab-panel\">\r\n        <div class=\"summary-header\">\r\n          <button id=\"cg-export-pdf\" type=\"button\" class=\"button primary\">\r\n            \uD83D\uDDA8\uFE0F Export to PDF\r\n          </button>\r\n        </div>\r\n        <div id=\"cg-summary-sheet\"></div>\r\n      </div>\r\n    `;\r\n  }\r\n};\r\n", "import DetailsTabRenderer   from './render-details.js';\r\nimport ProfileTabRenderer   from './render-profile.js';\r\nimport SkillsTabRenderer    from './render-skills.js';\r\nimport SummaryTabRenderer   from './render-summary.js';\r\nimport TraitsService        from '../traits/service.js';\r\n\r\nconst $ = window.jQuery;\r\n\r\nconst FormBuilder = {\r\n  buildForm(data = {}) {\r\n    console.groupCollapsed('\uD83D\uDEE0\uFE0F [FormBuilder] buildForm()');\r\n    console.log('\uD83D\uDCE6 Incoming data payload:', JSON.stringify(data, null, 2));\r\n\r\n    // 1) Build the HTML\r\n    console.log('\uD83E\uDDF1 [FormBuilder] Rendering tab panels...');\r\n    const html = `\r\n<form id=\"cg-form\">\r\n\r\n  ${DetailsTabRenderer.renderTabs()}\r\n  <div class=\"cg-tab-wrap\">\r\n    ${DetailsTabRenderer.renderContent(data)}\r\n    ${ProfileTabRenderer.renderContent(data)}\r\n    ${SkillsTabRenderer.renderContent(data)}\r\n    ${SummaryTabRenderer.renderContent(data)}\r\n  </div>\r\n\r\n  <input type=\"hidden\" id=\"cg-id\" value=\"${data.id || ''}\" />\r\n  <div class=\"cg-form-buttons\">\r\n    <button type=\"button\" class=\"cg-save-button\">\uD83D\uDCBE Save</button>\r\n    <button type=\"button\" class=\"cg-save-button cg-close-after-save\">\uD83D\uDCBE Save & Close</button>\r\n  </div>\r\n</form>`;\r\n\r\n    console.log('\u2705 [FormBuilder] HTML markup generated.');\r\n    console.groupEnd();\r\n\r\n    // 2) Delay to allow DOM rendering before syncing UI state\r\n    setTimeout(() => {\r\n      console.group('\u23F3 [FormBuilder] Post-render UI sync');\r\n\r\n      const currentValues = {\r\n        will:            $('#cg-will').val(),\r\n        speed:           $('#cg-speed').val(),\r\n        body:            $('#cg-body').val(),\r\n        mind:            $('#cg-mind').val(),\r\n        trait_species:   $('#cg-trait_species').val(),\r\n        trait_career:    $('#cg-trait_career').val(),\r\n        profileSpecies:  $('#cg-species').val(),\r\n        profileCareer:   $('#cg-career').val(),\r\n      };\r\n\r\n      console.table(currentValues);\r\n\r\n      if ($('#cg-id').val()) {\r\n        console.log('[FormBuilder] \uD83C\uDD94 Character ID:', $('#cg-id').val());\r\n      } else {\r\n        console.log('[FormBuilder] \u2139\uFE0F No character ID found (new character)');\r\n      }\r\n\r\n      console.log('\uD83D\uDD01 [FormBuilder] Calling TraitsService.refreshAll()');\r\n      TraitsService.refreshAll();\r\n\r\n      console.log('\u2705 [FormBuilder] Traits UI synced and boosted values rendered');\r\n      console.groupEnd();\r\n    }, 0);\r\n\r\n    // 3) Return HTML string\r\n    console.log('\uD83D\uDE80 [FormBuilder] Returning form HTML');\r\n    return html;\r\n  }\r\n};\r\n\r\nexport default FormBuilder;\r\n", "// assets/js/src/core/formBuilder/index.js\r\n\r\nconst $ = window.jQuery;\r\nimport FormBuilder from './form-builder.js';\r\n\r\nconst FormBuilderAPI = {\r\n  _data:   {},\r\n  isNew:   true,\r\n  hasData: false,\r\n\r\n  /**\r\n   * Initialize the builder state and render the form.\r\n   *\r\n   * @param {Object} payload\r\n   */\r\n  init(payload = {}) {\r\n    console.log('[FormBuilderAPI] \uD83D\uDE80 init() called with payload:', payload);\r\n    this._data   = { ...payload };\r\n    this.isNew   = Boolean(payload.isNew);\r\n    this.hasData = !this.isNew;\r\n\r\n    console.log('[FormBuilderAPI] \uD83D\uDCE6 Initial state:', {\r\n      _data: this._data,\r\n      isNew: this.isNew,\r\n      hasData: this.hasData\r\n    });\r\n\r\n    const html = FormBuilder.buildForm(this._data);\r\n    $('#cg-form-container').html(html);\r\n    console.log('[FormBuilderAPI] \uD83E\uDDF1 Form rendered');\r\n  },\r\n\r\n  /**\r\n   * Return a shallow copy of the in-memory data.\r\n   */\r\n  getData() {\r\n    console.log('[FormBuilderAPI] \uD83D\uDCE4 getData() called');\r\n    return { ...this._data };\r\n  },\r\n\r\n  /**\r\n   * Read every form field from the DOM into a single payload object,\r\n   * merging in-memory skillMarks to avoid losing them when inputs\r\n   * aren't present on the current tab.\r\n   */\r\n  collectFormData() {\r\n    console.log('[FormBuilderAPI] \uD83D\uDDC3\uFE0F collectFormData() called');\r\n\r\n    const d = {};\r\n\r\n    if (this._data.id) {\r\n      d.id = this._data.id;\r\n      console.log('[FormBuilderAPI] \u23F3 Merging existing ID:', d.id);\r\n    }\r\n\r\n    d.name        = $('#cg-name').val();\r\n    d.player_name = $('#cg-player-name').val();\r\n    d.age         = $('#cg-age').val();\r\n    d.gender      = $('#cg-gender').val();\r\n    d.motto       = $('#cg-motto').val();\r\n    d.goal1       = $('#cg-goal1').val();\r\n    d.goal2       = $('#cg-goal2').val();\r\n    d.goal3       = $('#cg-goal3').val();\r\n    d.description = $('#cg-description').val();\r\n    d.backstory   = $('#cg-backstory').val();\r\n\r\n    d.species_id = $('#cg-species').val();\r\n    d.career_id  = $('#cg-career').val();\r\n\r\n    d.skillMarks = {};\r\n    $('input.skill-marks').each((i, el) => {\r\n      const skillId = $(el).data('skill-id');\r\n      d.skillMarks[skillId] = parseInt($(el).val(), 10) || 0;\r\n    });\r\n\r\n    d.free_gifts = [\r\n      $('#cg-free-choice-0').val() || '',\r\n      $('#cg-free-choice-1').val() || '',\r\n      $('#cg-free-choice-2').val() || ''\r\n    ];\r\n\r\n    d.traits = {};\r\n    $('.cg-trait-select').each((i, sel) => {\r\n      const key = $(sel).attr('id').replace('cg-', '');\r\n      const val = $(sel).val();\r\n      d.traits[key] = val;\r\n    });\r\n\r\n    console.log('[FormBuilderAPI] \uD83D\uDCE6 Form data collected:', d);\r\n    return d;\r\n  },\r\n\r\n  /**\r\n   * Save the character via WP-AJAX and optionally close builder.\r\n   *\r\n   * @param {boolean} shouldClose\r\n   * @returns {Promise}\r\n   */\r\n  save(shouldClose = false) {\r\n    console.log('[FormBuilderAPI] \uD83D\uDCBE save() called. shouldClose:', shouldClose);\r\n    const payload = this.collectFormData();\r\n\r\n    return $.ajax({\r\n      url:    CG_Ajax.ajax_url,\r\n      method: 'POST',\r\n      data: {\r\n        action:    'cg_save_character',\r\n        character: payload,\r\n        security:  CG_Ajax.nonce\r\n      }\r\n    })\r\n    .done(res => {\r\n      console.log('[FormBuilderAPI] \u2705 save done. Response:', res);\r\n      if (!res.success) {\r\n        console.error('[FormBuilderAPI] \u274C save error:', res.data);\r\n        alert('Save failed: ' + res.data);\r\n        return;\r\n      }\r\n\r\n      this._data   = { ...this._data, id: res.data.id };\r\n      this.isNew   = false;\r\n      this.hasData = true;\r\n\r\n      console.log('[FormBuilderAPI] \uD83D\uDCBE save complete. Updated state:', {\r\n        _data: this._data,\r\n        isNew: this.isNew,\r\n        hasData: this.hasData\r\n      });\r\n\r\n      FormBuilderAPI.onSaveClean();\r\n      if (shouldClose) {\r\n        FormBuilderAPI.onSaveClose();\r\n      }\r\n    })\r\n    .fail((xhr, status, err) => {\r\n      console.error('[FormBuilderAPI] \u274C save failed', status, err, xhr.responseText);\r\n      alert('Save failed\u2014check console for details.');\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Fetch a list of saved characters (for the Load splash).\r\n   */\r\n  listCharacters() {\r\n    console.log('[FormBuilderAPI] \uD83D\uDCC4 listCharacters() called');\r\n    return $.ajax({\r\n      url:    CG_Ajax.ajax_url,\r\n      method: 'POST',\r\n      data: {\r\n        action:   'cg_load_characters',\r\n        security: CG_Ajax.nonce\r\n      }\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Fetch one character\u2019s full data by ID.\r\n   *\r\n   * @param {number|string} id\r\n   */\r\n  fetchCharacter(id) {\r\n    console.log('[FormBuilderAPI] \uD83D\uDCE5 fetchCharacter() called with ID:', id);\r\n    return $.ajax({\r\n      url:    CG_Ajax.ajax_url,\r\n      method: 'POST',\r\n      data: {\r\n        action:   'cg_get_character',\r\n        id,\r\n        security: CG_Ajax.nonce\r\n      }\r\n    });\r\n  },\r\n\r\n  // Hooks assigned by builder-ui.js:\r\n  onSaveClean: () => {\r\n    console.log('[FormBuilderAPI] \uD83E\uDDF9 onSaveClean() called');\r\n  },\r\n  onSaveClose: () => {\r\n    console.log('[FormBuilderAPI] \uD83D\uDED1 onSaveClose() called');\r\n  }\r\n};\r\n\r\nexport default FormBuilderAPI;\r\n", "import FormBuilderAPI from '../core/formBuilder';\r\n\r\nconst State = {\r\n  // currently selected free\u2010gift IDs\r\n  selected: [],\r\n\r\n  // the last fetched gift objects (with name, manifold, requires\u2026)\r\n  gifts: [],\r\n\r\n  /**\r\n   * Pull any previously saved freeGifts from the builder\u2019s data.\r\n   */\r\n  init() {\r\n    console.group('[FreeChoicesState] \uD83D\uDD04 init() called');\r\n\r\n    const data = FormBuilderAPI.getData();\r\n    const initial = Array.isArray(data.freeGifts) ? data.freeGifts : ['', '', ''];\r\n\r\n    this.selected = initial;\r\n\r\n    console.log('[FreeChoicesState] \uD83D\uDCE5 Fetched from FormBuilderAPI \u2192', data);\r\n    console.log('[FreeChoicesState] \u2705 Initial free gift selection set \u2192', this.selected);\r\n    console.groupEnd();\r\n  },\r\n\r\n  /**\r\n   * Update one slot and persist back into FormBuilder\u2019s data.\r\n   */\r\n  set(index, id) {\r\n    console.group(`[FreeChoicesState] \uD83D\uDCDD set(index=${index}, id=${id})`);\r\n\r\n    if (index < 0 || index >= 3) {\r\n      console.warn(`[FreeChoicesState] \u26A0\uFE0F Invalid index: ${index}`);\r\n      console.groupEnd();\r\n      return;\r\n    }\r\n\r\n    this.selected[index] = id;\r\n\r\n    const data = FormBuilderAPI.getData();\r\n    data.freeGifts = [...this.selected];\r\n    FormBuilderAPI._data.freeGifts = [...this.selected];  // ensure sync\r\n\r\n    console.log('[FreeChoicesState] \uD83D\uDCCC Updated internal selected array:', this.selected);\r\n    console.log('[FreeChoicesState] \uD83D\uDD04 Synced with FormBuilderAPI._data.freeGifts:', FormBuilderAPI._data.freeGifts);\r\n    console.groupEnd();\r\n  },\r\n\r\n  /**\r\n   * Merge incoming gift objects into our master list,\r\n   * keeping manifold, requires, etc.\r\n   */\r\n  setList(giftList = []) {\r\n    console.group('[FreeChoicesState] \uD83D\uDCE6 setList() called');\r\n    console.log('[FreeChoicesState] \uD83D\uDCBE Received gift list with', giftList.length, 'items');\r\n\r\n    giftList.forEach(g => {\r\n      const idStr = String(g.id);\r\n      const idx   = this.gifts.findIndex(x => String(x.id) === idStr);\r\n\r\n      if (idx > -1) {\r\n        console.log(`[FreeChoicesState] \uD83D\uDD01 Updating existing gift ID ${idStr}`);\r\n        this.gifts[idx] = { ...this.gifts[idx], ...g };\r\n      } else {\r\n        console.log(`[FreeChoicesState] \u2795 Adding new gift ID ${idStr}`);\r\n        this.gifts.push(g);\r\n      }\r\n    });\r\n\r\n    console.log('[FreeChoicesState] \uD83D\uDCCA Updated gift cache \u2192', this.gifts);\r\n    console.groupEnd();\r\n  },\r\n\r\n  /**\r\n   * Find one gift object by its ID.\r\n   */\r\n  getGiftById(id) {\r\n    console.group(`[FreeChoicesState] \uD83D\uDD0D getGiftById(${id})`);\r\n    const result = this.gifts.find(g => String(g.id) === String(id));\r\n\r\n    if (result) {\r\n      console.log(`[FreeChoicesState] \u2705 Found gift object \u2192`, result);\r\n    } else {\r\n      console.warn(`[FreeChoicesState] \u274C Gift ID ${id} not found in current list`);\r\n    }\r\n\r\n    console.groupEnd();\r\n    return result;\r\n  }\r\n};\r\n\r\n// expose globally for debugging\r\nwindow.CG_FreeChoicesState = State;\r\n\r\nconsole.log('\uD83D\uDD25 [FreeChoicesState] Module loaded & available as CG_FreeChoicesState');\r\n\r\nexport default State;\r\n", "// assets/js/src/gifts/api.js\r\n\r\nimport State from './state.js';\r\nconst $ = window.jQuery;\r\n\r\nconsole.log('\uD83D\uDD25 [GiftsAPI] Module loaded');\r\n\r\nexport default {\r\n  fetchLocalKnowledge(cb) {\r\n    console.log('[GiftsAPI] \uD83D\uDCE1 fetchLocalKnowledge() called');\r\n\r\n    $.post(CG_Ajax.ajax_url, {\r\n      action:   'cg_get_local_knowledge',\r\n      security: CG_Ajax.nonce\r\n    })\r\n    .done(res => {\r\n      console.log('[GiftsAPI] \u2705 Response from cg_get_local_knowledge:', res);\r\n\r\n      if (res.success && typeof cb === 'function') {\r\n        console.log('[GiftsAPI] \uD83D\uDCDE Calling callback with data:', res.data);\r\n        cb(res.data);\r\n      } else {\r\n        console.warn('[GiftsAPI] \u274C Unsuccessful or invalid callback');\r\n      }\r\n    })\r\n    .fail((xhr, status, error) => {\r\n      console.error('[GiftsAPI] \u274C AJAX error in fetchLocalKnowledge:', { status, error, response: xhr.responseText });\r\n    });\r\n  },\r\n\r\n  fetchLanguageGift(cb) {\r\n    console.log('[GiftsAPI] \uD83D\uDCE1 fetchLanguageGift() called');\r\n\r\n    $.post(CG_Ajax.ajax_url, {\r\n      action:   'cg_get_language_gift',\r\n      security: CG_Ajax.nonce\r\n    })\r\n    .done(res => {\r\n      console.log('[GiftsAPI] \u2705 Response from cg_get_language_gift:', res);\r\n\r\n      if (res.success && typeof cb === 'function') {\r\n        console.log('[GiftsAPI] \uD83D\uDCDE Calling callback with data:', res.data);\r\n        cb(res.data);\r\n      } else {\r\n        console.warn('[GiftsAPI] \u274C Unsuccessful or invalid callback');\r\n      }\r\n    })\r\n    .fail((xhr, status, error) => {\r\n      console.error('[GiftsAPI] \u274C AJAX error in fetchLanguageGift:', { status, error, response: xhr.responseText });\r\n    });\r\n  },\r\n\r\n  fetchFreeChoices(cb) {\r\n    console.log('[GiftsAPI] \uD83D\uDCE1 fetchFreeChoices() called');\r\n\r\n    $.post(CG_Ajax.ajax_url, {\r\n      action:   'cg_get_free_gifts',\r\n      security: CG_Ajax.nonce\r\n    })\r\n    .done(res => {\r\n      console.log('[GiftsAPI] \u2705 Response from cg_get_free_gifts:', res);\r\n\r\n      if (!res.success || typeof cb !== 'function') {\r\n        console.warn('[GiftsAPI] \u274C Unsuccessful or no callback provided');\r\n        return;\r\n      }\r\n\r\n      const gifts = res.data.map(g => {\r\n        const parsed = {\r\n          ...g,\r\n          id: String(g.id),\r\n          name: g.name,\r\n          ct_gifts_manifold: parseInt(g.ct_gifts_manifold, 10) || 1\r\n        };\r\n        console.log(`[GiftsAPI] \uD83E\uDDEA Parsed gift \u2192 ID: ${parsed.id}, Name: \"${parsed.name}\", Manifold: ${parsed.ct_gifts_manifold}`);\r\n        return parsed;\r\n      });\r\n\r\n      console.log('[GiftsAPI] \uD83D\uDCE6 Parsed gift list ready. Calling callback...');\r\n      cb(gifts);\r\n    })\r\n    .fail((xhr, status, error) => {\r\n      console.error('[GiftsAPI] \u274C AJAX error in fetchFreeChoices:', { status, error, response: xhr.responseText });\r\n    });\r\n  }\r\n};\r\n", "import API from './api.js';\r\nconst $ = window.jQuery;\r\n\r\nexport default {\r\n  init() {\r\n    const $container = $('#cg-local-knowledge');\r\n    API.fetchLocalKnowledge(data => {\r\n      $container.text(data.name);\r\n    });\r\n  }\r\n};\r\n", "import API from './api.js';\r\nconst $ = window.jQuery;\r\n\r\nexport default {\r\n  init() {\r\n    const $container = $('#cg-language');\r\n    API.fetchLanguageGift(data => {\r\n      $container.text(data.name);\r\n    });\r\n  }\r\n};\r\n", "// assets/js/src/gifts/free-choices.js\r\n\r\nimport API from './api.js';\r\nimport State from './state.js';\r\nimport TraitsService from '../core/traits/service.js';\r\n\r\nconst $ = window.jQuery;\r\n\r\nconsole.log('\uD83D\uDD25 [FreeChoices] Module loaded');\r\n\r\nexport default {\r\n  /**\r\n   * Initialize the three free-choice gift selectors,\r\n   * filter by requirements, and wire up change events.\r\n   */\r\n  init() {\r\n    console.group('[FreeChoices] \uD83D\uDD01 init() called');\r\n\r\n    // Load any previously saved picks\r\n    console.log('[FreeChoices] \uD83E\uDDE0 Initializing saved state');\r\n    State.init();\r\n\r\n    // Fetch the full list of free-choice gift objects\r\n    console.log('[FreeChoices] \uD83D\uDCE1 Fetching free-choice gifts via API');\r\n    API.fetchFreeChoices(gifts => {\r\n      console.log('[FreeChoices] \u2705 Gift data received:', gifts);\r\n\r\n      // 1) Merge all into State (so manifold & requirements are stored)\r\n      State.setList(gifts);\r\n      console.log('[FreeChoices] \uD83D\uDCE6 State.gifts \u2192', State.gifts);\r\n      console.log('[FreeChoices] \uD83D\uDDC2\uFE0F State.selected \u2192', State.selected);\r\n\r\n      // --- Filtering logic ---\r\n      console.log('[FreeChoices] \uD83D\uDD0D Filtering available gifts...');\r\n      const suffixes = [\r\n        '', 'two','three','four','five','six',\r\n        'seven','eight','nine','ten','eleven',\r\n        'twelve','thirteen','fourteen','fifteen',\r\n        'sixteen','seventeen','eighteen','nineteen'\r\n      ];\r\n      const selectedIds = State.selected.map(String);\r\n      const available = gifts.filter(g => {\r\n        return suffixes.every(s => {\r\n          const key = s ? `ct_gifts_requires_${s}` : 'ct_gifts_requires';\r\n          const req = g[key];\r\n          return !req || selectedIds.includes(String(req));\r\n        });\r\n      });\r\n      console.log('[FreeChoices] \u2705 Filtered gift list:', available);\r\n\r\n      // --- Render dropdowns ---\r\n      console.log('[FreeChoices] \uD83D\uDD8C\uFE0F Rendering gift dropdowns...');\r\n      const $wrap = $('#cg-free-choices').empty();\r\n      for (let i = 0; i < 3; i++) {\r\n        const selId = `cg-free-choice-${i}`;\r\n        const prev  = State.selected[i] || '';\r\n        const options = available.map(g => {\r\n          const sel = g.id == prev ? ' selected' : '';\r\n          return `<option value=\"${g.id}\"${sel}>${g.name}</option>`;\r\n        }).join('');\r\n\r\n        console.log(`[FreeChoices] \uD83C\uDFA8 Rendering dropdown ${i} \u2192 selected gift ID: ${prev}`);\r\n        $wrap.append(`\r\n          <select id=\"${selId}\" data-index=\"${i}\">\r\n            <option value=\"\">\u2014 Select Gift \u2014</option>\r\n            ${options}\r\n          </select>\r\n        `);\r\n      }\r\n\r\n      // --- Bind change handlers ---\r\n      console.log('[FreeChoices] \uD83E\uDDF7 Binding change handlers for dropdowns...');\r\n      $(document)\r\n        .off('change', '#cg-free-choices select')\r\n        .on('change', '#cg-free-choices select', e => {\r\n          const $sel = $(e.currentTarget);\r\n          const idx  = $sel.data('index');\r\n          const id   = $sel.val();\r\n\r\n          console.log(`[FreeChoices] \uD83D\uDCDD Dropdown change \u2014 index: ${idx}, selected ID: ${id}`);\r\n\r\n          // Persist the choice\r\n          State.set(idx, id);\r\n\r\n          // Merge the newly selected gift object into State\r\n          const chosen = gifts.find(g => String(g.id) === String(id));\r\n          if (chosen) {\r\n            console.log('[FreeChoices] \uD83D\uDCE5 Merging selected gift into state:', chosen);\r\n            State.setList([chosen]);\r\n          } else {\r\n            console.log('[FreeChoices] \u26A0\uFE0F Selected gift not found in list');\r\n          }\r\n\r\n          // Recalculate all trait boosts\r\n          console.log('[FreeChoices] \uD83D\uDD01 Calling TraitsService.refreshAll() after selection');\r\n          TraitsService.refreshAll();\r\n        });\r\n\r\n      console.groupEnd();\r\n    });\r\n  }\r\n};\r\n"],
  "mappings": "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",
  "names": ["$", "api_default", "api_default", "$", "TRAITS", "DIE_ORDER", "escape", "api_default", "_a", "$", "$", "$", "api_default", "$", "api_default", "$", "api_default", "$", "api_default"]
}
